<!DOCTYPE html>
<html>
<head>
<title>Sortable Example</title>
<link rel="stylesheet" href="../css/JSAV.css" type="text/css" />
</head>

<body>
<style>
  #jsavcontainer {
    width: 700px;
    height: 700px;
  }
  p.jsavoutput.jsavline {
    height: 40px;
  }
  .jsavscore {
    text-align: center;
  }
</style>
  <h1>A Simple JSAV Interactive Exercise</h1>
  <div id="jsavcontainer">
    <a class="jsavsettings" href="#">Settings</a>
    <p align="center" class="jsavexercisecontrols"></p>
    <p class="jsavscore"></p>
    <p class="jsavoutput jsavline"></p>
  </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js">
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js"></script>
    <script src="../lib/jquery.transit.js"></script>
    <script src="../lib/Sortable.min.js"></script>
    <script src="../build/JSAV.js"></script>

    <script>

    var arraySize = 8,
        initialArray = [],
        jsavArray,
        av = new JSAV("jsavcontainer");

    av.recorded(); // we are not recording an AV with an algorithm

    function initialize() {
      if (jsavArray) {
        jsavArray.clear();
      }
      av.umsg("Directions: Drag the elements into ascending order"); 
      initialArray = JSAV.utils.rand.numKeys(10, 100, arraySize);

      jsavArray = av.ds.array(initialArray, {sortable: true, dropCallback: function () {
        exercise.gradeableStep();
      }});

      return jsavArray;
    }
    
    function modelSolution(modeljsav) {
      var sortedValues = initialArray.slice(0).sort(function (a, b) { return a - b; });
      var modelArray = modeljsav.ds.array(sortedValues, {sortable: true, draggingOff: true});
      modeljsav.displayInit();
      return modelArray;
    }
    
    // define a variable to hold the value of index to be swapped
    
    var exercise = av.exercise(modelSolution, initialize, {
      feedback: "atend",
      grader: "finalStep"
    });
    exercise.reset();

    </script>
</body>
</html>
